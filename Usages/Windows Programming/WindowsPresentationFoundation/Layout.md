我们这节笔记记录WPF中关于布局的基础知识。

# 布局 #

在任意用户界面设计汇总，有一半的工作是以富有吸引力、灵活实用的方式组织内容。但真正的挑战是确保界面布局能够恰到好处地适应不同得窗口尺寸。

WPF用不同的容器（container）安排布局。每个容器有各自的布局逻辑——有些容器以堆栈方式布置元素，另一些容器在网格中不可见的单元格中排列元素，等等。在WPF中非常抵制基于坐标的布局，而是注重创建灵活的布局，使布局能够适应内部的内容的变化、不同的语言以及各种窗口尺寸。迁移到WPF的许多开发人员会觉得新布局系统令人倍感惊奇。

这里将介绍WPF布局模型的工作原理，并且将开始使用基本的布局容器。

## 一、理解WPF中的布局 ##

在Windows开发人员设计用户界面的方式上，WPF布局模型是一个重大改进。在WPF问世之前，Windows开发人员使用刻板的基于坐标的布局将控件放到正确位置。在WPF中，这种方式虽然也可行，但已经极少使用。大多数应用程序将使用类似于Web的flow布局；在使用流式布局模型时，控件可以扩大，并将其他控件挤到其他位置，开发人员能创建与显示分辨率和窗口大小无关的、在不同的显示器上正确缩放的用户界面；当窗口内容变化时，界面可调整自身，并且可以自如地处理语言的切换。要利用该系统的优势，首先需要进一步理解WPF布局模型的基本概念和假设。

#### 1.1 WPF布局原则

WPF窗口只能包含单个元素。为在WPF窗口中放置多个元素并创建更贴近实用的用户界面，需要在窗口上放置一个容器，然后在这个容器中添加其他元素。

在WPF中，布局由您使用的容器决定。尽管有多个容器可供选择，但理想的WPF窗口需要遵循下面几条重要原则：

* 不应显示设定元素的尺寸。元素应当可以改变尺寸以适合它们的内容。
* 不应使用屏幕坐标指定元素的位置。元素应当由它们的容器根据它们的尺寸、顺序以及其他特定于具体布局容器的信息进行排列。如果需要在元素之间添加空白空间，可使用Margin属性。
* 布局容器的子元素共享可用的空间。如果空间允许，布局容器会根据每个元素的内容尽可能为元素设置更合理的尺寸。它们还会向一个或多个子元素分配多余的空间。
* 可嵌套的布局容器。典型的用户界面使用Grid面板作为开始，Grid面板是WPF中功能最强大的容器，Grid面板可包含其他布局容器，包含的这些容器以更小的分组排列元素。

尽管对于这几条原则而言也有一些例外，但它们反映了WPF的总体设计目标。换句话说，如果创建WPF应用程序时遵循了这些原则，将会创建出更好的、更灵活的用户界面。如果不遵循这些原则，最终将得不到很适合WPF的并且难以维护的用户界面。

#### 1.2 布局过程

#### 1.3 布局容器

## 二、使用StackPanel面板进行简单布局 ##

#### 2.1 布局属性

#### 2.2 对齐方式

#### 2.3 边距

#### 2.4 最小尺寸、最大尺寸以及显示的设置尺寸

#### 2.5 Border控件

## 三、WrapPanel和DockPanel面板 ##

#### 3.1 WrapPanel面板

#### 3.2 DockPanel面板

#### 3.3 嵌套布局容器

## 四、Grid面板 ##

#### 4.1 调整行和列

#### 4.2 布局舍入

#### 4.3 跨越行和列

#### 4.4 分割窗口

#### 4.5 共享尺寸组

#### 4.6 UniformGrid面板

## 五、使用Canvas面板进行基于坐标的布局 ##

#### 5.1 Z顺序

#### 5.2 linkCanvas元素

## 六、布局实例 ##
